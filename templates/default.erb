require 'chefspec'

describe '<%= cookbook %>::<%= recipe %>' do
  let(:chef_run) { ChefSpec::Runner.new.converge(described_recipe) }

  it 'runs successfully' do
    expect{chef_run}.not_to raise_error
  end<% if test_cases %><% test_cases.each do |test_case| %>

  it "<%= test_case[:it] %>" do
    expect(chef_run).to <%= test_case[:action] %>("<%= test_case[:name] %>")
  end<% end %><% end %>
end
